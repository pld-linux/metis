--- metis-4.0/Lib/proto.h.orig	1998-11-30 17:26:50.000000000 +0100
+++ metis-4.0/Lib/proto.h	2011-01-30 08:26:06.416692227 +0100
@@ -455,11 +455,9 @@ float snorm2(int, float *);
 float sdot(int n, float *, float *);
 void saxpy(int, float, float *, int, float *, int);
 void RandomPermute(int, idxtype *, int);
-double drand48();
-void srand48(long);
 int ispow2(int);
 void InitRandom(int);
-int log2(int);
+int log2i(int);
 
 
 
--- metis-4.0/Lib/util.c.orig	1998-11-30 17:26:50.000000000 +0100
+++ metis-4.0/Lib/util.c	2011-01-30 08:24:44.428686361 +0100
@@ -509,7 +509,7 @@ void InitRandom(int seed)
 /*************************************************************************
 * This function returns the log2(x)
 **************************************************************************/
-int log2(int a)
+int log2i(int a)
 {
   int i;
 
--- metis-4.0/Lib/rename.h.orig	1998-11-30 17:26:50.000000000 +0100
+++ metis-4.0/Lib/rename.h	2011-01-30 08:26:21.204688037 +0100
@@ -410,7 +410,7 @@
 #define RandomPermute			__RandomPermute
 #define ispow2				__ispow2
 #define InitRandom			__InitRandom
-#define log2				__log2
+#define log2i				__log2i
 
 
 
--- metis-4.0/Lib/kmetis.c.orig	1998-11-30 17:26:47.000000000 +0100
+++ metis-4.0/Lib/kmetis.c	2011-01-30 08:26:42.288686361 +0100
@@ -66,7 +66,7 @@ void METIS_WPartGraphKway(int *nvtxs, id
     ctrl.dbglvl = options[OPTION_DBGLVL];
   }
   ctrl.optype = OP_KMETIS;
-  ctrl.CoarsenTo = amax((*nvtxs)/(40*log2(*nparts)), 20*(*nparts));
+  ctrl.CoarsenTo = amax((*nvtxs)/(40*log2i(*nparts)), 20*(*nparts));
   ctrl.maxvwgt = 1.5*((graph.vwgt ? idxsum(*nvtxs, graph.vwgt) : (*nvtxs))/ctrl.CoarsenTo);
 
   InitRandom(-1);
--- metis-4.0/Lib/kvmetis.c.orig	1998-11-30 17:26:47.000000000 +0100
+++ metis-4.0/Lib/kvmetis.c	2011-01-30 08:26:55.848686361 +0100
@@ -66,7 +66,7 @@ void METIS_WPartGraphVKway(int *nvtxs, i
     ctrl.dbglvl = options[OPTION_DBGLVL];
   }
   ctrl.optype = OP_KVMETIS;
-  ctrl.CoarsenTo = amax((*nvtxs)/(40*log2(*nparts)), 20*(*nparts));
+  ctrl.CoarsenTo = amax((*nvtxs)/(40*log2i(*nparts)), 20*(*nparts));
   ctrl.maxvwgt = 1.5*((graph.vwgt ? idxsum(*nvtxs, graph.vwgt) : (*nvtxs))/ctrl.CoarsenTo);
 
   InitRandom(-1);
--- metis-4.0/Lib/mkmetis.c.orig	1998-11-30 17:26:48.000000000 +0100
+++ metis-4.0/Lib/mkmetis.c	2011-01-30 08:27:08.624686361 +0100
@@ -47,7 +47,7 @@ void METIS_mCPartGraphKway(int *nvtxs, i
     ctrl.dbglvl = options[OPTION_DBGLVL];
   }
   ctrl.optype = OP_KMETIS;
-  ctrl.CoarsenTo = amax((*nvtxs)/(20*log2(*nparts)), 30*(*nparts));
+  ctrl.CoarsenTo = amax((*nvtxs)/(20*log2i(*nparts)), 30*(*nparts));
 
   ctrl.nmaxvwgt = 1.5/(1.0*ctrl.CoarsenTo);
 
